

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Python: meaning of __init__ and __main__</title>
    <meta name="description" content="from my personal experience">
    <meta name="author" content="Jinliang Yang">

    <!-- Enable responsive viewport -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le styles change to Yihui style -->
    <!-- link rel="stylesheet" href="/media/css/style.css"  -->
    <link rel="stylesheet" href="/media/css/highlight.css">
    <link href="/assets/themes/twitter/bootstrap/css/bootstrap.2.2.2.min.css" rel="stylesheet">
    <link href="/assets/themes/twitter/bootstrap/css/style.css" rel="stylesheet">
    <link href="/assets/themes/twitter/css/style.css?body=1" rel="stylesheet" type="text/css" media="all">

    <!-- Le fav and touch icons -->
  <!-- Update these with your own images
    <link rel="shortcut icon" href="images/favicon.ico">
    <link rel="apple-touch-icon" href="images/apple-touch-icon.png">
    <link rel="apple-touch-icon" sizes="72x72" href="images/apple-touch-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="114x114" href="images/apple-touch-icon-114x114.png">
  -->

    <!-- atom & rss feed -->
    <link href="/atom.xml" type="application/atom+xml" rel="alternate" title="Sitewide ATOM Feed">
    <link href="/rss.xml" type="application/rss+xml" rel="alternate" title="Sitewide RSS Feed">

  </head>

  <body>
    <div class="navbar">
      <div class="navbar-inner">
        <div class="container-narrow">
          <a class="brand" href="/">Jinliang Yang</a>
          <ul class="nav">
            
            
            


  
    
      
    
  
    
      
      	
      	<li><a href="/archive">Archive</a></li>
      	
      
    
  
    
      
    
  
    
      
      	
      	<li><a href="/categories">Categories</a></li>
      	
      
    
  
    
      
    
  
    
      
      	
      	<li><a href="/pages">Pages</a></li>
      	
      
    
  
    
      
    
  
    
      
    
  
    
      
      	
      	<li><a href="/tags">Tags</a></li>
      	
      
    
  
    
      
    
  
    
      
    
  



          </ul>
        </div>
      </div>
    </div>
    
  </body>

  <head>
      <meta name="viewport" content="width=device-width; initial-scale=1.0">
      <link rel="stylesheet" type="text/css" href="/media/css/home.css">
      <style type="text/css">
      .container > footer p , .postheader > a{
        text-align: center;
      }
      .date {
        text-align: center;
        height: 30px;
        color:#bfbfbf;
        margin-bottom: 10px;
      }
      /* Specify class=linenums on a pre to get line numbering */
      ol.linenums {
        margin: 0 0 0 33px; /* IE indents via margin-left */
      }
      ol.linenums li {
        padding-left: 12px;
        color: #bebec5;
        line-height: 18px;
        text-shadow: 0 1px 0 #fff;
      }
      </style>

    </head>
    <body>
      <div class="container">
      <ul class="nav pills">
      <li><a href="/">Home</a></li>
      <li><a href="/cn/">中文</a></li>
      <li><a href="/en/">English</a></li>
      <li><a href="/about/">About</a></li>
      <li><a href="/vitae/">VITAE</a></li>
      </ul>
      </div>
  </body>


    <div class="container-narrow">

      <div class="content">
        

<div class="page-header">
  <h1>Python: meaning of __init__ and __main__ </h1>
</div>

<div class="row-fluid post-full">
  <div class="span12">
    <div class="date">
      <span>16 December 2014</span>
    </div>
    <div class="content">
      
<h3 id="what-does-if-name--main-do">What does <code class="highlighter-rouge">if __name__ == “__main__” do</code>?</h3>
<p><a href="http://stackoverflow.com/questions/419163/what-does-if-name-main-do">link</a></p>

<p>When the Python interpreter reads a source file, it executes all of the code found in it. Before executing the code, it will define a few special variables. For example, if the python interpreter is running that module (the source file) as the main program, it sets the special <strong>name</strong> variable to have a value “<strong>main</strong>”. If this file is being imported from another module, <strong>name</strong> will be set to the module’s name.
In the case of your script, let’s assume that it’s executing as the main function, e.g. you said something like<br />
<code class="highlighter-rouge">python threading_example.py</code><br />
on the command line. After setting up the special variables, it will execute the import statement and load those modules. It will then evaluate the def block, creating a function object and creating a variable called myfunction that points to the function object. It will then read the if statement and see that <strong>name</strong> does equal “<strong>main</strong>”, so it will execute the block shown there.</p>

<p>One of the reasons for doing this is that sometimes you write a module (a .py file) where it can be executed directly. Alternatively, it can also be imported and used in another module. By doing the main check, you can have that code only execute when you want to run the module as a program and not have it execute when someone just wants to import your module and call your functions themselves.</p>

<h3 id="what-is-initpy-forhttpstackoverflowcomquestions448271what-is-init-py-for"><a href="http://stackoverflow.com/questions/448271/what-is-init-py-for">What is <code class="highlighter-rouge">__init__.py</code> for?</a></h3>

<p>Files name <strong>init</strong>.py are used to mark directories on disk as Python package directories. If you have the files</p>

<div class="highlighter-rouge"><pre class="highlight"><code>mydir/spam/__init__.py   
mydir/spam/module.py  
</code></pre>
</div>

<p>And mydir is on your path, you can import the code in module.py as  </p>

<div class="highlighter-rouge"><pre class="highlight"><code>import spam.module  
or  
from spam import module  
</code></pre>
</div>

<p>If you remove the <strong>init</strong>.py file, Python will no longer look for submodules inside that directory, so attempts to import the module will fail.</p>

<p>The <strong>init</strong>.py file is usually empty, but can be used to export selected portions of the package under more convenient name, hold convenience functions, etc. Given the example above, the contents of the init module can be accessed as</p>


    </div>

  
    <ul class="tag_box inline">
      <li><i class="icon-folder-open"></i></li>
      
      


  
     
    	<li><a href="/categories.html#codes-ref">
    		codes <span>7</span>
    	</a></li>
    
  


    </ul>
    

  
    <ul class="tag_box inline">
      <li><i class="icon-tags"></i></li>
      
      


  
     
    	<li><a href="/tags.html#tutorial-ref">tutorial <span>10</span></a></li>
     
    	<li><a href="/tags.html#usage-ref">usage <span>6</span></a></li>
     
    	<li><a href="/tags.html#python-ref">python <span>5</span></a></li>
    
  



    </ul>
    

    <hr>
    <div class="pagination">
      <ul>
      
        <li class="prev"><a href="/codes/2014/12/15/Pandas" title="R equivalent functions in Pandas">&larr; Previous</a></li>
      
        <li><a href="/archive.html">Archive</a></li>
      
        <li class="next"><a href="/codes/2015/01/01/bash-to-zsh" title="Changing bash to zsh">Next &rarr;</a></li>
      
      </ul>
    </div>
    <hr>
    


  <div id="disqus_thread"></div>
<script type="text/javascript">
    var disqus_developer = 1;
    var disqus_shortname = 'yangjl'; // required: replace example with your forum shortname
    
    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">blog comments powered by <span class="logo-disqus">Disqus</span></a>




  </div>
</div>


      </div>
      <hr>
      <footer align="center">
         <p><small>Powered by <a href="https://github.com/mojombo/jekyll">Jekyll</a> on GitHub | Copyright 2016 by <a href="http://yangjl.com">Jinliang Yang</a> | <span class="label label-info">2016-09-09 15:29:23</span></small></p>
      </footer>

    </div>


</html>
